{"version":3,"file":"quote-e3654afc.js","sources":["../../src/svg/icons.svg","../../src/js/header-hero.js","../../src/js/quote.js"],"sourcesContent":["export default \"__VITE_ASSET__aafb9193__\"","const closeHeaderBtn = document.querySelector('.js-close-menu');\nconst openHeaderBtn = document.querySelector('.js-open-menu');\nconst headerMobileMenu = document.querySelector('.js-menu-container');\n\ncloseHeaderBtn.addEventListener('click', onCloseMobMenu);\nopenHeaderBtn.addEventListener('click', onOpenMobMenu);\n\nfunction onCloseMobMenu() {\n  headerMobileMenu.classList.add('is-hidden');\n}\n\nfunction onOpenMobMenu() {\n  headerMobileMenu.classList.remove('is-hidden');\n}\n","import iziToast from 'izitoast';\nimport axios from 'axios';\nconst BASE_URL = 'https://energyflow.b.goit.study/api';\nconst backendQuoteContainer = document.querySelector('.quote__backend');\n//отримання цитати з сервера\nasync function getQuote() {\n    backendQuoteContainer.innerHTML = `<span class=\"loader\"></span>`;\n    try {\n        const response = await axios.get(`${BASE_URL}/quote`);\n        return response.data;\n    } catch (error) {\n        iziToast.error({\n            title: 'Wrong',\n            message: 'Try again',\n            position: 'topRight'\n        });\n        throw error;\n    }\n}\n//html-розмітка\nfunction createMarkup(author, quote) {\n    return `<p class=\"quote__backend-text\">${quote}</p>\n    <p class=\"quote__backend-author\">${author}</p>`;\n}\n//Функція для отримання нової цитати\nasync function fetchAndSaveQuote() {\n    try {\n        //отримання цитати з сервера\n        const { author, quote } = await getQuote();\n        //локальне сховище(створення об'єкту, збереження цитати та дати)\n        const localStorageQuote = { author, quote, savedDate: new Date().toLocaleDateString() };\n        localStorage.setItem('quote', JSON.stringify(localStorageQuote));\n        localStorage.setItem('savedDate', localStorageQuote.savedDate);\n        \n        renderQuote(author, quote);\n        \n    } catch (error) {\n        console.error(error);\n    }\n}\n\nfunction renderQuote(author, quote) {\n    backendQuoteContainer.innerHTML = createMarkup(author, quote);\n}\n\n// Функція для отримання і відображення цитати\nasync function getAndRenderQuote() {\n    const savedQuote = JSON.parse(localStorage.getItem('quote'));\n    const savedDate = localStorage.getItem('savedDate');\n    const currentDate = new Date().toLocaleDateString();\n    \n    // Перевірка, чи цитата вже збережена для поточного дня\n    if (savedQuote && savedDate === currentDate) {\n        renderQuote(savedQuote.author, savedQuote.quote);\n    } else {\n        // Якщо цитата ще не збережена для поточного дня, отримуємо нову\n        await fetchAndSaveQuote();\n    }\n}\ngetAndRenderQuote();\n//функція для оновлення цитати кожного дня опівночі \nfunction setDailyQuoteUpdate() {\n    const now = new Date();\n    const timeUntilMidnight = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1, 0, 0, 0, 0) - now;\n    setTimeout(function() {\n        getAndRenderQuote();\n        setDailyQuoteUpdate();\n    }, timeUntilMidnight);\n}\nsetDailyQuoteUpdate();\n"],"names":["icons","closeHeaderBtn","openHeaderBtn","headerMobileMenu","onCloseMobMenu","onOpenMobMenu","BASE_URL","backendQuoteContainer","getQuote","axios","error","iziToast","createMarkup","author","quote","fetchAndSaveQuote","localStorageQuote","renderQuote","getAndRenderQuote","savedQuote","savedDate","currentDate","setDailyQuoteUpdate","now","timeUntilMidnight"],"mappings":"svBAAA,MAAeA,EAAA,4CCATC,EAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAgB,SAAS,cAAc,eAAe,EACtDC,EAAmB,SAAS,cAAc,oBAAoB,EAEpEF,EAAe,iBAAiB,QAASG,CAAc,EACvDF,EAAc,iBAAiB,QAASG,CAAa,EAErD,SAASD,GAAiB,CACxBD,EAAiB,UAAU,IAAI,WAAW,CAC5C,CAEA,SAASE,GAAgB,CACvBF,EAAiB,UAAU,OAAO,WAAW,CAC/C,CCXA,MAAMG,EAAW,sCACXC,EAAwB,SAAS,cAAc,iBAAiB,EAEtE,eAAeC,GAAW,CACtBD,EAAsB,UAAY,+BAClC,GAAI,CAEA,OADiB,MAAME,EAAM,IAAI,GAAGH,CAAQ,QAAQ,GACpC,IACnB,OAAQI,EAAO,CACZ,MAAAC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,YACT,SAAU,UACtB,CAAS,EACKD,CACT,CACL,CAEA,SAASE,EAAaC,EAAQC,EAAO,CACjC,MAAO,kCAAkCA,CAAK;AAAA,uCACXD,CAAM,MAC7C,CAEA,eAAeE,GAAoB,CAC/B,GAAI,CAEA,KAAM,CAAE,OAAAF,EAAQ,MAAAC,GAAU,MAAMN,EAAQ,EAElCQ,EAAoB,CAAE,OAAAH,EAAQ,MAAAC,EAAO,UAAW,IAAI,KAAI,EAAG,mBAAkB,GACnF,aAAa,QAAQ,QAAS,KAAK,UAAUE,CAAiB,CAAC,EAC/D,aAAa,QAAQ,YAAaA,EAAkB,SAAS,EAE7DC,EAAYJ,EAAQC,CAAK,CAE5B,OAAQJ,EAAO,CACZ,QAAQ,MAAMA,CAAK,CACtB,CACL,CAEA,SAASO,EAAYJ,EAAQC,EAAO,CAChCP,EAAsB,UAAYK,EAAaC,EAAQC,CAAK,CAChE,CAGA,eAAeI,GAAoB,CAC/B,MAAMC,EAAa,KAAK,MAAM,aAAa,QAAQ,OAAO,CAAC,EACrDC,EAAY,aAAa,QAAQ,WAAW,EAC5CC,EAAc,IAAI,KAAM,EAAC,mBAAkB,EAG7CF,GAAcC,IAAcC,EAC5BJ,EAAYE,EAAW,OAAQA,EAAW,KAAK,EAG/C,MAAMJ,EAAiB,CAE/B,CACAG,IAEA,SAASI,GAAsB,CAC3B,MAAMC,EAAM,IAAI,KACVC,EAAoB,IAAI,KAAKD,EAAI,YAAa,EAAEA,EAAI,SAAU,EAAEA,EAAI,QAAO,EAAK,EAAG,EAAG,EAAG,EAAG,CAAC,EAAIA,EACvG,WAAW,UAAW,CAClBL,IACAI,GACH,EAAEE,CAAiB,CACxB,CACAF,EAAqB"}