{"version":3,"file":"commonHelpers.js","sources":["../src/favorites.js"],"sourcesContent":["import icons from '/svg/icons.svg';\nconst home = document.getElementById('home');\nconst favorites = document.getElementById('favorites');\nconst back = document.querySelector('.back-image');\nconst quote = document.querySelector('.quote');\nconst text = document.querySelectorAll('.mob-nav-link');\nconst toDelete = document.querySelector('.content-no-favorites');\nconst gallery = document.querySelector('.gallery');\nconst favoritesBackdrop = document.querySelector('.favorites-backdrop');\nconst bodyOnScr = document.querySelector('body');\nconst favoritesPagination = document.querySelector('.favorites-pagination');\n\nconst pageSize = 9;\nlet currentPage = 1;\n\nback.classList.add('is-hidden');\n\nfunction onClickChange() {\n  home.classList.remove('is-active');\n  home.classList.add('no-active');\n  favorites.classList.remove('no-active');\n  favorites.classList.add('is-active');\n  quote.classList.remove('container');\n\n  text[0].classList.remove('is-active');\n  text[0].classList.add('no-active');\n  text[1].classList.remove('no-active');\n  text[1].classList.add('is-active');\n}\n\nonClickChange();\n\nconst render = JSON.parse(localStorage.getItem('favorites'));\n\nrenderCards(render);\n\ngallery.addEventListener('click', handleRemove);\n\nfavoritesPagination.addEventListener('click', handlePagination);\n\nfunction checkContent(arr) {\n  arr.length !== 0\n    ? toDelete.classList.add('is-hidden')\n    : toDelete.classList.remove('is-hidden');\n}\n\nfunction renderContent(arr) {\n  return arr\n    .map(\n      ({\n        bodyPart,\n        name,\n        _id,\n        target,\n        burnedCalories,\n        time,\n      }) => `<li class = \"list-exercises\" id=\"${_id}\" data-filter=\"${name}\"><div class=\"options\">\n    <div class=\"box-up\">\n    <div class=\"box-left\">\n    <div class=\"work-div\"><p class=\"options-item work-div\"> WORKOUT</p></div>\n    \n    <button class=\"trash-btn\" id=\"trash\" type=\"button\">\n    <svg class=\"icon-trash\" width=\"18\" height=\"18\"><use href=\"${icons}#icon-trash\"></use></svg>\n    </button>\n    \n    </div>\n  \n    \n    <button type = \"button\" class=\"btn-start-arrow\" id=\"open\">Start<svg class=\"icon-arrow\" width=\"14\" height=\"14\"><use href=\"${icons}#icon-arrow\"></use></svg></button>\n    </div>\n             \n              <div class=\"exercises-par\"> \n              <div class=\"options-item-span\"><svg class=\"icon-men\" width=\"18\" height=\"18\"><use href=\"${icons}#icon-running-man\"></use></svg></div>\n              <h4 class=\"ex-name\">${name}</h4>\n              </div>\n              <div class=\"options-item-wrap\">\n                <p class=\"options-item\"><span class=\"hid-txt\">Burned calories:</span>${burnedCalories}/${time}</p>\n                <p class=\"options-item\"><span class=\"hid-txt\">Body part:</span>${bodyPart}</p>\n                <p class=\"options-item\"><span class=\"hid-txt\">Target:</span>${target}</p></div>\n              </div>\n             </li>`\n    )\n    .join('');\n}\n\nfunction handleRemove(event) {\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  if (event.target.closest('button').id === 'trash') {\n    render.find((el, idx, arr) => {\n      return el._id === event.target.closest('li').id\n        ? arr.splice(idx, 1)\n        : null;\n    });\n    localStorage.setItem('favorites', JSON.stringify(render));\n\n    render.length <= (currentPage - 1) * pageSize\n      ? (currentPage -= 1)\n      : currentPage;\n\n    renderCards(render);\n  }\n\n  if (event.target.closest('button').id === 'open') {\n    favoritesBackdrop.classList.add('is-open');\n    bodyOnScr.classList.add('on-scroll');\n    const found = render.find(el => {\n      return el._id === event.target.closest('li').id;\n    });\n\n    const {\n      bodyPart,\n      equipment,\n      time,\n      target,\n      burnedCalories,\n      gifUrl,\n      name,\n      popularity,\n      rating,\n      description,\n    } = found;\n\n    favoritesBackdrop.innerHTML = `<div class=\"exercises-modal-window\">\n          <div class=\"exercise-container\">\n            <button class=\"exercise-close-btn\" id=\"modal-close-btn\" type=\"button\">\n              <svg\n                class=\"exercise-close-icon\"\n                width=\"10\"\n                height=\"10\"\n                aria-label=\"Close icon\"\n              >\n                <use href=\"${icons}#icon-close-btn\"></use>\n              </svg>\n            </button>\n            <div class=\"exercise-image-wrapper\">\n              <img\n                src=\"${gifUrl}\"\n                alt=\"\"\n                class=\"exercise-image-modal\"\n              />\n            </div>\n            <div class=\"exercise-info-wrapper\">\n              <div class=\"exercise-name-container decorate-line\">\n                <p class=\"exercise-name\">${name}</p>\n                <div class=\"rating-container\">\n                <p class=\"exercise-rating\">${rating}</p>\n                <div class=\"stars-wrap\">\n                  <svg class=\"stars-wrap-svg\" width=\"18\" height=\"18\">\n                    <use href=\"${icons}#icon-star\"></use>\n                  </svg>\n                  <svg class=\"stars-wrap-svg\" width=\"18\" height=\"18\">\n                    <use href=\"${icons}#icon-star\"></use>\n                  </svg>\n                  <svg class=\"stars-wrap-svg\" width=\"18\" height=\"18\">\n                    <use href=\"${icons}#icon-star\"></use>\n                  </svg>\n                  <svg class=\"stars-wrap-svg\" width=\"18\" height=\"18\">\n                    <use href=\"${icons}#icon-star\"></use>\n                  </svg>\n                  <svg class=\"stars-wrap-svg\" width=\"18\" height=\"18\">\n                    <use href=\"${icons}#icon-star\"></use>\n                  </svg>\n               </div>\n                </div>\n              </div>\n              <div class=\"exercise-params-container decorate-line\">\n                <ul class=\"exercise-params-list\">\n                  <li class=\"exercise-params-card\">\n                    <p class=\"exercise-param-name\">Target</p>\n                    <p class=\"exercise-param-value exercise-param-target\">${target}</p>\n                  </li>\n                  <li class=\"exercise-params-card\">\n                    <p class=\"exercise-param-name\">Body part</p>\n                    <p class=\"exercise-param-value exercise-param-bodypart\">${bodyPart}</p>\n                  </li>\n                  <li class=\"exercise-params-card\">\n                    <p class=\"exercise-param-name\">Equipment</p>\n                    <p class=\"exercise-param-value exercise-param-equipment\">${equipment}</p>\n                  </li>\n                  <li class=\"exercise-params-card\">\n                    <p class=\"exercise-param-name\">Popular</p>\n                    <p class=\"exercise-param-value exercise-param-popularuty\">${popularity}</p>\n                  </li>\n                  <li class=\"exercise-params-card\">\n                  <p class=\"exercise-param-name\">Burned calories</p>\n                  <p class=\"exercise-param-value exercise-param-popularuty\">${burnedCalories}/${time} m</p></li>\n                </ul>\n              </div>\n              <p class=\"exercise-descr\">${description}</p>\n            </div>\n          </div>\n        </div>`;\n\n    const stars = document.querySelectorAll('.stars-wrap-svg');\n    getStars(stars, Math.round(rating));\n\n    const closebtn = document.getElementById('modal-close-btn');\n    closebtn.addEventListener('click', () => {\n      favoritesBackdrop.classList.remove('is-open');\n      bodyOnScr.classList.remove('on-scroll');\n    });\n\n    favoritesBackdrop.addEventListener('click', onBackDropClick);\n    window.addEventListener('keydown', event => {\n      if (event.code === 'Escape') {\n        onCloseBtn(event);\n      }\n    });\n  }\n}\n\nfunction getStars(arr, rate) {\n  arr.forEach((el, id) => {\n    id < rate ? el.classList.add('yellow') : null;\n  });\n}\n\nfunction onCloseBtn() {\n  window.removeEventListener('keydown', onWindowKeydown);\n  favoritesBackdrop.classList.remove('is-open');\n  bodyOnScr.classList.remove('on-scroll');\n}\n\nfunction onWindowKeydown(event) {\n  if (event.code === 'Escape') {\n    onCloseBtn(event);\n  }\n}\n\nfunction onBackDropClick(event) {\n  if (event.currentTarget === event.target) {\n    onCloseBtn(event);\n  }\n}\n\nfunction renderPagination(num) {\n  favoritesPagination.innerHTML = '';\n  for (let i = 1; i <= num; i += 1) {\n    favoritesPagination.insertAdjacentHTML(\n      'beforeend',\n      `<li class=\"page-exercises\" data-page=\"${i}\"><button id=\"prevPage\">${i}</button></li>`\n    );\n  }\n}\n\nfunction renderCards(render) {\n  checkContent(render);\n\n  if (render.length <= pageSize) {\n    gallery.innerHTML = renderContent(render);\n    favoritesPagination.classList.add('is-hidden');\n  } else {\n    const start = (currentPage - 1) * pageSize;\n    const end = start + pageSize;\n\n    favoritesPagination.classList.remove('is-hidden');\n    renderPagination(Math.ceil(render.length / pageSize));\n\n    const pageData = render.slice(start, end);\n    gallery.innerHTML = renderContent(pageData);\n  }\n\n  const arrPages = [...favoritesPagination.children];\n\n  render.length > pageSize\n    ? arrPages[currentPage - 1].classList.add('active')\n    : null;\n}\n\nfunction handlePagination(event) {\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  currentPage = event.target.textContent;\n\n  renderCards(render);\n}\n"],"names":["home","favorites","back","quote","text","toDelete","gallery","favoritesBackdrop","bodyOnScr","favoritesPagination","pageSize","currentPage","onClickChange","render","renderCards","handleRemove","handlePagination","checkContent","arr","renderContent","bodyPart","name","_id","target","burnedCalories","time","icons","event","el","idx","found","equipment","gifUrl","popularity","rating","description","stars","getStars","onBackDropClick","onCloseBtn","rate","id","onWindowKeydown","renderPagination","num","i","start","end","pageData","arrPages"],"mappings":"0FACA,MAAMA,EAAO,SAAS,eAAe,MAAM,EACrCC,EAAY,SAAS,eAAe,WAAW,EAC/CC,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAO,SAAS,iBAAiB,eAAe,EAChDC,EAAW,SAAS,cAAc,uBAAuB,EACzDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAoB,SAAS,cAAc,qBAAqB,EAChEC,EAAY,SAAS,cAAc,MAAM,EACzCC,EAAsB,SAAS,cAAc,uBAAuB,EAEpEC,EAAW,EACjB,IAAIC,EAAc,EAElBT,EAAK,UAAU,IAAI,WAAW,EAE9B,SAASU,GAAgB,CACvBZ,EAAK,UAAU,OAAO,WAAW,EACjCA,EAAK,UAAU,IAAI,WAAW,EAC9BC,EAAU,UAAU,OAAO,WAAW,EACtCA,EAAU,UAAU,IAAI,WAAW,EACnCE,EAAM,UAAU,OAAO,WAAW,EAElCC,EAAK,CAAC,EAAE,UAAU,OAAO,WAAW,EACpCA,EAAK,CAAC,EAAE,UAAU,IAAI,WAAW,EACjCA,EAAK,CAAC,EAAE,UAAU,OAAO,WAAW,EACpCA,EAAK,CAAC,EAAE,UAAU,IAAI,WAAW,CACnC,CAEAQ,IAEA,MAAMC,EAAS,KAAK,MAAM,aAAa,QAAQ,WAAW,CAAC,EAE3DC,EAAYD,CAAM,EAElBP,EAAQ,iBAAiB,QAASS,CAAY,EAE9CN,EAAoB,iBAAiB,QAASO,CAAgB,EAE9D,SAASC,EAAaC,EAAK,CACzBA,EAAI,SAAW,EACXb,EAAS,UAAU,IAAI,WAAW,EAClCA,EAAS,UAAU,OAAO,WAAW,CAC3C,CAEA,SAASc,EAAcD,EAAK,CAC1B,OAAOA,EACJ,IACC,CAAC,CACC,SAAAE,EACA,KAAAC,EACA,IAAAC,EACA,OAAAC,EACA,eAAAC,EACA,KAAAC,CACD,IAAK,oCAAoCH,CAAG,kBAAkBD,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gEAMTK,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+HAM0DA,CAAK;AAAA;AAAA;AAAA;AAAA,uGAI7BA,CAAK;AAAA,oCACxEL,CAAI;AAAA;AAAA;AAAA,uFAG+CG,CAAc,IAAIC,CAAI;AAAA,iFAC5BL,CAAQ;AAAA,8EACXG,CAAM;AAAA;AAAA,mBAG/E,EACA,KAAK,EAAE,CACZ,CAEA,SAASR,EAAaY,EAAO,CAC3B,GAAIA,EAAM,OAAO,WAAa,WAI1BA,EAAM,OAAO,QAAQ,QAAQ,EAAE,KAAO,UACxCd,EAAO,KAAK,CAACe,EAAIC,EAAKX,IACbU,EAAG,MAAQD,EAAM,OAAO,QAAQ,IAAI,EAAE,GACzCT,EAAI,OAAOW,EAAK,CAAC,EACjB,IACL,EACD,aAAa,QAAQ,YAAa,KAAK,UAAUhB,CAAM,CAAC,EAExDA,EAAO,SAAWF,EAAc,GAAKD,IAChCC,GAAe,GAGpBG,EAAYD,CAAM,GAGhBc,EAAM,OAAO,QAAQ,QAAQ,EAAE,KAAO,QAAQ,CAChDpB,EAAkB,UAAU,IAAI,SAAS,EACzCC,EAAU,UAAU,IAAI,WAAW,EACnC,MAAMsB,EAAQjB,EAAO,KAAKe,GACjBA,EAAG,MAAQD,EAAM,OAAO,QAAQ,IAAI,EAAE,EAC9C,EAEK,CACJ,SAAAP,EACA,UAAAW,EACA,KAAAN,EACA,OAAAF,EACA,eAAAC,EACA,OAAAQ,EACA,KAAAX,EACA,WAAAY,EACA,OAAAC,EACA,YAAAC,CACD,EAAGL,EAEJvB,EAAkB,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BASLmB,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,uBAKXM,CAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAOcX,CAAI;AAAA;AAAA,6CAEFa,CAAM;AAAA;AAAA;AAAA,iCAGlBR,CAAK;AAAA;AAAA;AAAA,iCAGLA,CAAK;AAAA;AAAA;AAAA,iCAGLA,CAAK;AAAA;AAAA;AAAA,iCAGLA,CAAK;AAAA;AAAA;AAAA,iCAGLA,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4EASsCH,CAAM;AAAA;AAAA;AAAA;AAAA,8EAIJH,CAAQ;AAAA;AAAA;AAAA;AAAA,+EAIPW,CAAS;AAAA;AAAA;AAAA;AAAA,gFAIRE,CAAU;AAAA;AAAA;AAAA;AAAA,8EAIZT,CAAc,IAAIC,CAAI;AAAA;AAAA;AAAA,0CAG1DU,CAAW;AAAA;AAAA;AAAA,gBAKjD,MAAMC,EAAQ,SAAS,iBAAiB,iBAAiB,EACzDC,EAASD,EAAO,KAAK,MAAMF,CAAM,CAAC,EAEjB,SAAS,eAAe,iBAAiB,EACjD,iBAAiB,QAAS,IAAM,CACvC3B,EAAkB,UAAU,OAAO,SAAS,EAC5CC,EAAU,UAAU,OAAO,WAAW,CAC5C,CAAK,EAEDD,EAAkB,iBAAiB,QAAS+B,CAAe,EAC3D,OAAO,iBAAiB,UAAWX,GAAS,CACtCA,EAAM,OAAS,UACjBY,EAAgB,CAExB,CAAK,CACF,CACH,CAEA,SAASF,EAASnB,EAAKsB,EAAM,CAC3BtB,EAAI,QAAQ,CAACU,EAAIa,IAAO,CACtBA,EAAKD,GAAOZ,EAAG,UAAU,IAAI,QAAQ,CACzC,CAAG,CACH,CAEA,SAASW,GAAa,CACpB,OAAO,oBAAoB,UAAWG,CAAe,EACrDnC,EAAkB,UAAU,OAAO,SAAS,EAC5CC,EAAU,UAAU,OAAO,WAAW,CACxC,CAEA,SAASkC,EAAgBf,EAAO,CAC1BA,EAAM,OAAS,UACjBY,EAAgB,CAEpB,CAEA,SAASD,EAAgBX,EAAO,CAC1BA,EAAM,gBAAkBA,EAAM,QAChCY,EAAgB,CAEpB,CAEA,SAASI,EAAiBC,EAAK,CAC7BnC,EAAoB,UAAY,GAChC,QAASoC,EAAI,EAAGA,GAAKD,EAAKC,GAAK,EAC7BpC,EAAoB,mBAClB,YACA,yCAAyCoC,CAAC,2BAA2BA,CAAC,gBAC5E,CAEA,CAEA,SAAS/B,EAAYD,EAAQ,CAG3B,GAFAI,EAAaJ,CAAM,EAEfA,EAAO,QAAUH,EACnBJ,EAAQ,UAAYa,EAAcN,CAAM,EACxCJ,EAAoB,UAAU,IAAI,WAAW,MACxC,CACL,MAAMqC,GAASnC,EAAc,GAAKD,EAC5BqC,EAAMD,EAAQpC,EAEpBD,EAAoB,UAAU,OAAO,WAAW,EAChDkC,EAAiB,KAAK,KAAK9B,EAAO,OAASH,CAAQ,CAAC,EAEpD,MAAMsC,EAAWnC,EAAO,MAAMiC,EAAOC,CAAG,EACxCzC,EAAQ,UAAYa,EAAc6B,CAAQ,CAC3C,CAED,MAAMC,EAAW,CAAC,GAAGxC,EAAoB,QAAQ,EAEjDI,EAAO,OAASH,GACZuC,EAAStC,EAAc,CAAC,EAAE,UAAU,IAAI,QAAQ,CAEtD,CAEA,SAASK,EAAiBW,EAAO,CAC3BA,EAAM,OAAO,WAAa,WAG9BhB,EAAcgB,EAAM,OAAO,YAE3Bb,EAAYD,CAAM,EACpB"}