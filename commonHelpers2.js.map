{"version":3,"file":"commonHelpers2.js","sources":["../src/main.js","../src/js/exercises-muscles.js","../src/js/exercises-body-parts.js","../src/js/exercises-modal-backdrop.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://energyflow.b.goit.study/api';\n","// const BASE_URL = 'https://energyflow.b.goit.study/api';\n\nconst containerMuscles = document.querySelector('container-muscles');\nconst exercisesContainer = document.querySelector('exercises-container');\nconst musclesButton = document.getElementById('muscles-button');\nconst bodyPartsButton = document.getElementById('body-parts-button');\nconst equipmentButton = document.getElementById('equipment-button');\n\n// async function getExercises()\n","import axios from 'axios';\n// import axios from './templates.js';\nimport iziToast from 'izitoast';\n\nconst refs = {\n  formEl: document.querySelector('.form-search'),\n  exercisesEl: document.querySelector('.exercises-gallery'),\n  loaderGallery: document.querySelector('.loader-gallery'),\n};\n\nconst hiddenClass = 'is-hidden';\n\nlet query = '';\nlet page = 1;\nlet maxPage = 0;\n\n// async function getRequest(endPoint, attr = {}) {\n//   try {\n//     const response = await fetch(this.#baseURL + endPoint, attr);\n//     if (!response.ok) {\n//       throw new Error(`HTTP error, status: ${response.status}`);\n//     }\n//     return response.json();\n//   } catch (error) {\n//     throw error;\n//   }\n// }\n\n// async objectGetRequest(endPoint) {\n//   return this.#dbRequest(endPoint);\n// }\n\nconst BASE_URL = `https://energyflow.b.goit.study/api/`;\nconst endPoint = `filters`;\n\nasync function getGallery(endPoint, resp = {}) {\n  try {\n    const response = await axios.get(BASE_URL + endPoint, {\n      params: {\n        filter: Muscles,\n        bodypart: cardio,\n        muscles: abs,\n        equipment: cable,\n        page,\n        limit: 10,\n      },\n    });\n    console.log(data);\n    return response;\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      titleSize: '30',\n      messageSize: '25',\n      message: 'Sorry! Try later! Server not working',\n    });\n    console.error(error.message);\n  }\n}\nrefs.formEl.addEventListener('submit', handleSearch);\n\nasync function handleSearch(event) {\n  event.preventDefault();\n\n  refs.exercisesEl.innerHTML = '';\n  //   refs.loaderGallery.classList.remove(hiddenClass);\n\n  page = 1;\n  console.log(event);\n  const form = event.currentTarget;\n  query = form.elements.query.value;\n\n  if (!query) {\n    refs.loaderGallery.classList.add(hiddenClass);\n    iziToast.show({\n      title: '‚ùå',\n      messageColor: 'white',\n      message: 'Sorry, You have not entered any word.Please try again!',\n      position: 'topRight',\n      color: 'grey',\n    });\n    return;\n  }\n\n  try {\n    const {\n      totalPages,\n      data: { results },\n    } = await getGallery(query);\n    if (totalPages === 0) {\n      return;\n    }\n\n    maxPage = Math.ceil(totalPages / 10);\n    createGallery(results);\n  } catch (error) {\n    console.log(console.error);\n  } finally {\n    form.reset();\n    alert(`wrong`);\n  }\n}\n\nfunction createGallery(filters = {}) {\n  const { bodyPart, target, name, burnedCalories, rating, time } = filters;\n  const markup = `<li class = \"list-exercises\"><div class=\"options\">\n        <p class=\"options-item\"> WORKOUT</p>\n        <span class=\"options-item-span\">${rating}</span>\n        <button type = \"button\" >START</button>\n        <p class=\"options-item\"> <span class=\"options-item-span\">svg</span>${name}</p>\n        <p class=\"options-item\"> Burned calories:${burnedCalories}/${time}</p>\n        <p class=\"options-item\">Body part:${bodyPart}</p>\n        <p>Target:${target}</p></div>\n        </li>`;\n\n  markup.join('');\n  refs.exercisesEl.insertAdjacentHTML('beforeend', markup);\n}\n","const startBtn = document.querySelector('.start-btn');\nconst modalEl = document.querySelector('.modal-backdrop');\n\nstartBtn.addEventListener('click', handleSearch);\n\nfunction handleSearch(event) {\n  event.preventDefault();\n  fetchExercises().then(modalWindowMarkup).catch();\n}\n\nfunction fetchExercises() {\n  return fetch(\n    'https://energyflow.b.goit.study/api/exercises/64f389465ae26083f39b17a2'\n  ).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n\nfunction modalWindowMarkup(filters = {}) {\n  const {\n    _id,\n    bodyPart,\n    equipment,\n    time,\n    target,\n    burnedCalories,\n    gifUrl,\n    name,\n    popularity,\n    rating,\n    description,\n  } = filters;\n\n  const markup = `<div class=\"exercises-modal-window\">\n          <div class=\"exercise-container\">\n            <button class=\"exercise-close-btn\" type=\"button\">\n              <svg\n                class=\"exercise-close-icon\"\n                width=\"10\"\n                height=\"10\"\n                aria-label=\"Close icon\"\n              >\n                <use href=\"../svg/icons.svg#icon-close-btn\"></use>\n              </svg>\n            </button>\n            <div class=\"exercise-image-wrapper\">\n              <img\n                src=\"${gifUrl}\"\n                alt=\"\"\n                class=\"exercise-image-modal\"\n              />\n            </div>\n            <div class=\"exercise-info-wrapper\">\n              <div class=\"exercise-name-container\">\n                <p class=\"exercise-name\">${name}</p>\n                <p class=\"exercise-rating\">${rating}</p>\n              </div>\n              <div class=\"exercise-params-container\">\n                <ul class=\"exercise-params-list\">\n                  <li class=\"exercise-params-card\">\n                    <p class=\"exercise-param-name\">Target</p>\n                    <p class=\"exercise-param-value exercise-param-target\">${target}</p>\n                  </li>\n                  <li class=\"exercise-params-card\">\n                    <p class=\"exercise-param-name\">Body part</p>\n                    <p class=\"exercise-param-value exercise-param-bodypart\">${bodyPart}</p>\n                  </li>\n                  <li class=\"exercise-params-card\">\n                    <p class=\"exercise-param-name\">Equipment</p>\n                    <p class=\"exercise-param-value exercise-param-equipment\">${equipment}</p>\n                  </li>\n                  <li class=\"exercise-params-card\">\n                    <p class=\"exercise-param-name\">Popular</p>\n                    <p class=\"exercise-param-value exercise-param-popularuty\">${popularity}</p>\n                  </li>\n                  <li class=\"exercise-params-card\">\n                  <p class=\"exercise-param-name\">Burned calories</p>\n                  <p class=\"exercise-param-value exercise-param-popularuty\">${burnedCalories}/${time} m</p></li>\n                </ul>\n                \n              </div>\n              <p class=\"exercise-descr\">${description}</p>\n              <div class=\"exercise-buttons\">\n                <button\n                  class=\"exercise-favorite-btn\"\n                  type=\"submit\"\n                  data=\"${_id}\"\n                >\n                  Add to favorites\n                  <svg\n                  class=\"exercise-fav-icon\"\n                  aria-label=\"Heart icon\"\n                  >\n                  <use href=\"../svg/icons.svg#icon-heart\"></use>\n                  </svg>\n                </button>\n                <button class=\"exercise-raiting-btn\" type=\"submit\" data=\"${_id}\">\n                  Give a rating\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>`;\n\n  modalEl.innerHTML = markup;\n}\n"],"names":["axios","refs","hiddenClass","query","page","maxPage","BASE_URL","getGallery","endPoint","resp","response","error","iziToast","handleSearch","event","form","totalPages","results","createGallery","filters","bodyPart","target","name","burnedCalories","rating","time","markup","startBtn","modalEl","fetchExercises","modalWindowMarkup","_id","equipment","gifUrl","popularity","description"],"mappings":"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"}